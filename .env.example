# Aviation Intelligence Hub - Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control!

# Database Configuration
AIH_DB=emails.db

# HTTP Request Settings
AIH_REQ_TIMEOUT=30

# Auto-refresh Settings (in seconds)
AUTO_REFRESH_INTERVAL=300

# Cloudflare Worker Configuration
# IMPORTANT: Change these values! Do not use defaults in production!
CF_WORKER_URL=https://your-worker.your-subdomain.workers.dev
CF_WORKER_TOKEN=CHANGE_THIS_TO_A_SECURE_RANDOM_TOKEN

# AI Content Settings
MAX_CONTENT_CHARS_TO_WORKER=2500      # Characters to send per item (reduced for speed)
WORKER_BATCH_SIZE=8                    # Items per batch (smaller = faster per batch)
WORKER_PARALLEL_BATCHES=3              # Process N batches simultaneously (3x speedup!)
MAX_ITEM_TOASTS=5                      # Max toast notifications for AI summaries
WORKER_TIMEOUT=90                      # Timeout per batch in seconds (reduced)

# Feed Processing Settings
MAX_FEED_WORKERS=10

# Server Configuration
PORT=5001
FLASK_ENV=development
FLASK_DEBUG=True

# Security Settings
# Generate a secure secret key with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_SECRET_KEY

# Rate Limiting (requests per minute)
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT=60

# Allowed Domains for URL fetching (comma-separated, leave empty to allow all)
# Example: example.com,example.org,trusted-news-site.com
ALLOWED_DOMAINS=

# Blocked Domains (comma-separated, for blocking specific domains)
# Example: localhost,127.0.0.1,internal.company.com
BLOCKED_DOMAINS=localhost,127.0.0.1,0.0.0.0,169.254.169.254,metadata.google.internal

# ============================================================================
# EMAIL CONFIGURATION (for user verification, alerts, digests)
# ============================================================================

# Email Provider (gmail, outlook, sendgrid, or custom)
EMAIL_PROVIDER=gmail

# --- Gmail Configuration ---
# 1. Enable 2-factor authentication on your Google account
# 2. Generate an "App Password": https://myaccount.google.com/apppasswords
# 3. Use the 16-character app password below (NOT your regular password)
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password-here

# --- Outlook Configuration ---
# Use your Outlook/Hotmail email and password
# EMAIL_USER=your-email@outlook.com
# EMAIL_PASSWORD=your-password-here

# --- SendGrid Configuration (Free: 100 emails/day) ---
# 1. Sign up at https://sendgrid.com (free tier available)
# 2. Create API key in Settings â†’ API Keys
# EMAIL_USER=apikey
# EMAIL_PASSWORD=your-sendgrid-api-key-here

# --- Custom SMTP Server ---
# If using a custom SMTP server, set EMAIL_PROVIDER=custom and configure:
# SMTP_HOST=smtp.yourserver.com
# SMTP_PORT=587
# SMTP_TLS=true
# EMAIL_USER=your-email@yourserver.com
# EMAIL_PASSWORD=your-password

# Email "From" Settings
EMAIL_FROM=noreply@aviationhub.com
EMAIL_FROM_NAME=Aviation Intelligence Hub

# Email Features
EMAIL_VERIFICATION_ENABLED=true        # Require email verification on signup
EMAIL_DAILY_DIGEST_ENABLED=true        # Send daily news digests
EMAIL_BREAKING_NEWS_ENABLED=true       # Send breaking news alerts

# Email Schedule
EMAIL_DIGEST_TIME=08:00                # Daily digest send time (UTC)
EMAIL_CLEANUP_INTERVAL=3600            # Cleanup unverified users every hour (seconds)
